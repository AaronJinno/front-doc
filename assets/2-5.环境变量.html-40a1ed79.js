import{_ as e,o as n,c as a,e as s}from"./app-8888c5c9.js";const i={},d=s(`<h4 id="_1-process-env" tabindex="-1"><a class="header-anchor" href="#_1-process-env" aria-hidden="true">#</a> 1. p<wbr>rocess.env</h4><p>p<wbr>rocess.env 是 Node.js 中的一个环境对象。其中保存着系统的环境的变量信息。</p><p>注意：这些环境变量都是系统层面的。</p><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>node
p<wbr>rocess.env //打印环境变量信息
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-import-meta" tabindex="-1"><a class="header-anchor" href="#_2-import-meta" aria-hidden="true">#</a> 2. i<wbr>mport.meta</h4><p>p<wbr>rocess.env变量已经被废弃了，但在Vue项目中，依然存在大量的p<wbr>rocess.env变量的使用，因此经常会报错。</p><ul><li>报错信息：process is not defined</li><li>debug：使用i<wbr>mport.meta代替</li></ul><h4 id="_3-node-env与vue" tabindex="-1"><a class="header-anchor" href="#_3-node-env与vue" aria-hidden="true">#</a> 3. NODE_ENV与Vue</h4><p>NODE_ENV变量不只是在系统中配置，在Vue项目中，Vue也提供了自己的配置方式。</p><p>Vue CLI中有个模式的概念，分为：development、production、test。</p><h5 id="_3-1-模式与node-env的区别" tabindex="-1"><a class="header-anchor" href="#_3-1-模式与node-env的区别" aria-hidden="true">#</a> 3.1 模式与NODE_ENV的区别</h5><p>每个模式都是多个环境变量的集合。<br> 如根目录下的.env.development文件，里面的所有变量都只会在development模式下被载入。</p><h5 id="_3-2-意义" tabindex="-1"><a class="header-anchor" href="#_3-2-意义" aria-hidden="true">#</a> 3.2 意义</h5><p>在 Vue 中， <code>NODE_ENV</code>可以通过 <code>.env</code> 文件或者 <code>.env.[mode]</code> 文件配置。配置过后，运行 Vue CLI 指令（ npm run dev(serve) ，npm run build ）时，就会将该模式下的NODE_ENV载入其中了。</p><h4 id="_4-模式详情" tabindex="-1"><a class="header-anchor" href="#_4-模式详情" aria-hidden="true">#</a> 4. 模式详情</h4><ul><li>dev <ul><li>文件名：.env.development</li><li>指令：npm run dev</li><li>其实是运行了 vue-cli service serve ,可以在 .env.development 文件下修改该模式的 NODE_ENV 。</li></ul></li><li>build <ul><li>文件名：.env.production</li><li>指令：npm run build</li><li>其实运行了 vue-cli service build，可以在 .env.production 文件下修改该模式的 NODE_ENV 。</li></ul></li></ul><h4 id="_5-环境变量的定义和使用" tabindex="-1"><a class="header-anchor" href="#_5-环境变量的定义和使用" aria-hidden="true">#</a> 5. 环境变量的定义和使用</h4><h5 id="_5-1-定义" tabindex="-1"><a class="header-anchor" href="#_5-1-定义" aria-hidden="true">#</a> 5.1 定义</h5><p>以键值对的格式属性，键要全大写。</p><div class="language-env line-numbers-mode" data-ext="env"><pre class="language-env"><code>NODE_ENV = development
BASE_URL = &quot;/&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-2-使用" tabindex="-1"><a class="header-anchor" href="#_5-2-使用" aria-hidden="true">#</a> 5.2 使用</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>键名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_5-3-示例" tabindex="-1"><a class="header-anchor" href="#_5-3-示例" aria-hidden="true">#</a> 5.3 示例</h5><p>定义环境变量。</p><div class="language-env line-numbers-mode" data-ext="env"><pre class="language-env"><code>//file: .env
NODE_ENV = development
BASE_URL = &quot;/&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用环境变量</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//file：/src/router/index.js</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//使用环境变量</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,27),r=[d];function t(l,c){return n(),a("div",null,r)}const p=e(i,[["render",t],["__file","2-5.环境变量.html.vue"]]);export{p as default};
