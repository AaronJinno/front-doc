import{_ as n,P as s,Q as a,a5 as t}from"./framework-3728cbf1.js";const p="/front-doc/img/basic/html/5-9-1.png",e={},o=t(`<h2 id="i-绘制阴影" tabindex="-1"><a class="header-anchor" href="#i-绘制阴影" aria-hidden="true">#</a> Ⅰ. 绘制阴影</h2><p>在 H5 中，使用 Canvas 可以给图形添加阴影效果。</p><p>添加阴影效果时，需利用context对象的几个关于阴影绘制的属性就可以了。</p><h4 id="_1-属性" tabindex="-1"><a class="header-anchor" href="#_1-属性" aria-hidden="true">#</a> 1. 属性</h4><ul><li>shadowOffsetX : 阴影的横向位移量。</li><li>shadowOffsetY : 阴影的纵向位移量。</li><li>shadowColor : 阴影的颜色。</li><li>shadowBlur : 阴影的模糊范围 <strong>shadowOffsetX与shadowOffsetY</strong></li></ul><p>图形向横向方向移动，或纵向方向移动以产生阴影效果时的移动距离。这两个属性值在默认情况下均为0。 <strong>shadowBlur</strong><br> 可选，表示图形阴影边缘的模糊范围。如果不希望阴影的边缘太清晰，需要将阴影的边缘模糊化时可以使用该属性。设定该属性值时必须设定为比0 大，一般设定在0至10之间。</p><h4 id="_2-注意事项" tabindex="-1"><a class="header-anchor" href="#_2-注意事项" aria-hidden="true">#</a> 2. 注意事项</h4><ul><li>上述几个属性与路径是无关的，只要设置一次，改变路径，也会带上阴影效果。</li><li>也可以将shadowcolor设置成rgba(0,0,0,0)，来让图形不再具有阴影效果</li></ul><h4 id="_3-示例" tabindex="-1"><a class="header-anchor" href="#_3-示例" aria-hidden="true">#</a> 3. 示例</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementByld</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>canvas <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&#39;2d&#39;</span><span class="token punctuation">)</span>；
context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#EEEEFF&quot;</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span>shadowOffsetX <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span>shadowOffsetY <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span>shadowColor <span class="token operator">=</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span>shadowBlur <span class="token operator">=</span> <span class="token number">7.5</span><span class="token punctuation">;</span>
<span class="token comment">//&quot;图形绘制</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+p+`" alt="5-9-1" tabindex="0" loading="lazy"><figcaption>5-9-1</figcaption></figure><h2 id="ii-绘制文字" tabindex="-1"><a class="header-anchor" href="#ii-绘制文字" aria-hidden="true">#</a> Ⅱ. 绘制文字</h2><p>可以在 Canvas 画布中进行文字的绘制，也可以指定文字的字体、大小、对齐方式,还可以进行文字的纹理填充等。</p><h4 id="_1-filetext" tabindex="-1"><a class="header-anchor" href="#_1-filetext" aria-hidden="true">#</a> 1. fileText</h4><p>fileText 方法用填充方式绘制字符串</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">void</span> <span class="token function">fillText</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token punctuation">[</span>maxWidth<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>text：要绘制的文字；</li><li>x，y：绘制文字的起点横纵坐标，</li><li>maxWidth：可选，显示文字时的最大宽度，可以防止文字溢出。</li></ul><h4 id="_2-stroketext" tabindex="-1"><a class="header-anchor" href="#_2-stroketext" aria-hidden="true">#</a> 2. strokeText</h4><p>strokeText 方法用轮廓方式绘制字符串</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">void</span> <span class="token function">strokeText</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token punctuation">[</span>maxWidth<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//参数同上</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-设置文字属性" tabindex="-1"><a class="header-anchor" href="#_3-设置文字属性" aria-hidden="true">#</a> 3. 设置文字属性</h4><p>使用 Canvas进行文字的绘制之前，可以对该对象的有关文字绘制的属性进行设置</p><ul><li>font属性：设置文字字体。</li><li>textAlign属性：设置水平对齐方式，属性值为 start （默认）、 end 、 left 、 right 、 center 。</li><li>textBaseline属性：设置文字垂直对齐方式，属性值可以为 top 、 hanging 、 middle 、alphabetic（默认） 、 ideographic 、 bottom 。</li></ul><h4 id="_4-绘制文字示例" tabindex="-1"><a class="header-anchor" href="#_4-绘制文字示例" aria-hidden="true">#</a> 4. 绘制文字示例</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementByld</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>canvas <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> context<span class="token operator">=</span>canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&#39;2d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span> <span class="token string">&#39;#00f&#39;</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>font<span class="token operator">=</span> <span class="token string">&#39;italic 30px sans-serif&#39;</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">&#39;top&#39;</span><span class="token punctuation">;</span>
    <span class="token comment">//填充字符串</span>
    context<span class="token punctuation">.</span><span class="token function">fillText</span>  <span class="token punctuation">(</span><span class="token string">&#39;示例文字&#39;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>font<span class="token operator">=</span><span class="token string">&#39;bold 30px sans-serif&#39;</span><span class="token punctuation">;</span>
    <span class="token comment">//轮廓字符串</span>
    context<span class="token punctuation">.</span><span class="token function">strokeText</span>  <span class="token punctuation">(</span><span class="token string">&#39;示例文字&#39;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>PS：默认情况下，文字00点显示会被遮挡。</p><h4 id="_5-measuretext-获得文字的宽度" tabindex="-1"><a class="header-anchor" href="#_5-measuretext-获得文字的宽度" aria-hidden="true">#</a> 5. measureText：获得文字的宽度</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>metrics<span class="token operator">=</span>context<span class="token punctuation">.</span><span class="token function">measureText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>text：需要绘制的文字 该方法返回一个 TextMetrics 对象，TextMetrics 对象的 width 属性表示使用当前指定的字体后 text 参数中指定的文字的总文字宽度。</li></ul><h4 id="_6-测量文字宽度示例" tabindex="-1"><a class="header-anchor" href="#_6-测量文字宽度示例" aria-hidden="true">#</a> 6. 测量文字宽度示例</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementByld</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>canvas <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>；
    context<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&#39;italic 20px sans-serif&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> txt <span class="token operator">=</span> <span class="token string">&quot; 字 符 串 的 宽 度 为 &quot;</span>；
    <span class="token keyword">var</span> tml <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">measureText</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>txt<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>tml<span class="token punctuation">.</span>width<span class="token punctuation">,</span> tml<span class="token punctuation">.</span>width<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>font <span class="token operator">=</span> &quot;bold 30px sans<span class="token operator">-</span>serifn<span class="token punctuation">;</span>
    <span class="token keyword">var</span> tm2 <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">measureText</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>txt<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>tm2<span class="token punctuation">.</span>width<span class="token punctuation">,</span>tm2<span class="token punctuation">.</span>width<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,31),c=[o];function i(l,u){return s(),a("div",null,c)}const k=n(e,[["render",i],["__file","5-9.文字与阴影.html.vue"]]);export{k as default};
