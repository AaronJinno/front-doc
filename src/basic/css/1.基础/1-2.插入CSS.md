---
title: 1-2. 插入CSS
date: 2023-05-07
---
## Ⅰ. 插入CSS的方式
#### 1. 行内（内联）样式：Inline style
内联方式指的是直接在 HTML 标签中的 style 属性中添加 CSS。style 属性可以包含任何 CSS 属性。

由于要将表现和内容混杂在一起，内联样式会损失掉样式表的许多优势，慎用这种方法，行内式只对其所在的标签及嵌套在其中的子标签起作用。
```html
<标签名 style="属性1: 属性值1; 属性2:属性值2; 属性n:属性值n;">内容</标签名>
```

#### 2. 内部样式表：Internal style sheet
单个文档需要特殊的样式时，就应该使用内部样式表。
可以使用 `<style>` 标签在文档头部定义内部样式表
```html
<head>
    <style>
         hr {color:sienna;}
         p {margin-left:20px;}
         body {background-image:url("images/back40.gif");}
    </style>
</head>
```
#### 3.  外部样式表：External style sheet
在使用外部样式表的情况下，你可以通过改变一个文件来改变整个站点的外观。
##### 3.1 编写外部CSS
外部样式表可以在任何文本编辑器中进行编辑。文件不能包含任何的 html 标签。样式表应该以 .css 扩展名进行保存。
##### 3.2 link引入
每个外部CSS文件都可以使用 `<link>` 标签链接到样式表， `<link>` 标签在（文档的）头部。

如下：浏览器会从文件 mystyle.css 中读到样式声明，并根据它来格式文档。
```html
<head>
    <link rel="stylesheet" type="text/css" href="mystyle.css">
</head>
```
##### 3.3 @import导入
导入方式指的是使用 CSS 规则引入外部 CSS 文件。
```html
<style>
    @import url(style.css);
</style>
```
##### 3.4 link和@import的比较
链接方式（下面用 link 代替）和导入方式（下面用 @import 代替）都是引入外部的 CSS 文件的方式
- link 属于 HTML，通过 `<link>` 标签中的 href 属性来引入外部文件，而 @import 属于 CSS，所以导入语句应写在 CSS 中，要注意的是导入语句应写在样式表的开头，否则无法正确导入外部文件；
- `@import` 是 CSS2.1 才出现的概念，所以如果浏览器版本较低，无法正确导入外部样式文件；
- 当 HTML 文件被加载时，link 引用的文件会同时被加载，而 @import 引用的文件则会等页面全部下载完毕再被加载；

#### 4. 三种引入方式对比
|  样式表  |  优点   |  缺点  |   使用情况  |    控制范围   |
| :---| :------- | :------ | :----- | :---- |
| 行内样式表 |   书写方便，权重高   | 没有实现样式和结构相分离 |   较少  | 控制一个标签（少） |
| 内部样式表 |  部分结构和样式相分离  |    没有彻底分离    |    较多   | 控制一个页面（中） |
| 外部样式表 | 完全实现结构和样式相分离 |     需要引入     | 最多，强烈推荐 | 控制整个站点（多） |

#### 5. 多重样式
- 如果某些属性在不同的样式表中被同样的选择器定义，那么属性值将从更具体的样式表中被继承过来。
- 优先级：内联样式 > 内部样式 >外部样式 > 浏览器默认样式
- 如果外部样式放在内部样式的后面，则外部样式将覆盖内部样式

#### 6. CSS的层叠性
所谓层叠性是指多种CSS样式的叠加。如果一个属性通过两个相同选择器设置到同一个元素上，那么这个时候一个属性就会将另一个属性层叠掉。
##### 6.1 样式冲突
比如先给某个标签指定了内部文字颜色为红色，接着又指定了颜色为蓝色，此时出现一个标签指定了相同样式不同值的情况，这就是样式冲突。 
##### 6.2 就近原则
一般情况下，如果出现样式冲突，则会按照CSS书写的顺序，以最后的样式为准。样式冲突，遵循的原则是就近原则。 那个样式离着结构近，就执行那个样式。样式不冲突，不会层叠。

#### 7. CSS的继承性
所谓继承性是指书写CSS样式表时，子标签会继承父标签的某些样式，如文本颜色和字号。想要设置一个可继承的属性，只需将它应用于父元素即可。

恰当地使用继承可以简化代码，降低CSS样式的复杂性。子元素可以继承父元素的样式（text-，font-，line-这些元素开头的都可以继承，以及color属性


## Ⅱ. 样式的优先级
定义CSS样式时，经常出现两个或更多规则应用在同一元素上，具体应该显示那个样式，这时就会出现优先级的问题。

#### 1. 规则总结
- CSS 优先规则1->继承，自身样式覆盖继承的样式，最近的祖先样式比其他祖先样式优先级高。
- CSS 优先规则2->选择器：内联样式 > ID 选择器 > 类选择器 = 属性选择器 = 伪类选择器 > 标签选择器 = 伪元素选择器
- CSS 优先规则2->就近原则：相同权重，按就近原则。

#### 2. ！important
有 **!important** 的属性拥有最高优先级。若同时插有 **!important**，则再利用其他规则判断优先级。

#### 3. Specificity权重
关于CSS权重，我们需要一套计算公式来去计算，这个就是 CSS Specificity，我们称为CSS 特性或称非凡性，它是一个衡量CSS值优先级的一个标准。
:::warning
没必要计算，现实中的css没那么复杂。
:::


