---
title: 1-7. 运算符
date: 2023-05-11
---
运算符也叫操作符，通过运算符可以对一个或多个值进行运算，并获取运算结果。

运算不会改变变量本身，而是将运算的结果进行返回。
## Ⅰ. 算术运算符
算术运算包含：+、-、*、/、%、++、--。
```js
200-'100'+'100'=100100;
'200'-'100a'=NaN;//'100a'=NaN;
200 * '100' = 20000;
'20000'/'100' = 200;
```
#### 1. 加法
- 任何数字与NaN运算,结果都为NaN;
- JavaScript里面的 +，除了四则运算的功能之外，还用来连接字符串，如果两个字符串进行加法运算，会拼接在一起。
- 如何值与字符串做加法运算都会先转换为字符串。

可以对任意数据类型＋一个空字符串，而将其转换为字符串类型的数据。

#### 2. 减、乘、除
任何值进行  `-`  `*`  `/`  的运算，都会将字符串转换为数字类型。
可以利用  `-`  `*`  `/` 的特点，对其进行 `-0`，`*1`，`/1`进行隐式类型转换，转为number类型。

#### 3. %：取模
取模就是求余数。

#### 4. 一元运算符
只需要一个操作数的的运算符
- `+`：正号 （正号不会对数据产生影响）
- `-`：负号（负号可以取反）
- 对于非number类型的值，会先转换为number再进行运算
    - 可以利用这个特点，对其它类型的数据，取+ ，使其转换为number类型。

#### 5. 自增自减：前++ /-- 与 后++/--
- 前++/--：先++/--，再运算。
- 后++/--：先运算，再++/--，也就是说先运算，第二次使用该值时，值才发生变化。

##### 5.1 前后++ --的不同 

对于原变量来说，无论先++--还是后++--都是一样的，原变量都会立即改变，不同的是 两个表达式返回的值（指的是表达式，而不是原变量）。
```js
var a = 10;
var b = a++; //b=10,因为++在后要先运算(赋值)，再进行自增
var c = --b; //c=9,--在前，要先进行自减，再进行运算(赋值)
var d = c++ + ++ c ;//d=9+11=20;
var e = d-- - --d;//e=20-18=2;
var f = a++ + ++a + a = 10+12+12 = 34
```
- a ：变量a,
- a++：表达式a++ ，a++ = a  返回旧值，再次取值才是新增
- ++a：表达式++a， ++a = a+1 直接返回新值


## Ⅱ. 赋值运算符
将符号右边的值，赋值给左边，包含：`= 、 +=  、-= 、 *=  、/=  、%=
```js
var num = 100;//将100保存到num这个变量中
var num2 = 50;
num2 += num; //num2 = num + num2 = 150;

//+=练习
var str = "<table border="1">";
for(var i=0;i<3;i++){
    str + = '<tr><td>'+i+'</td></tr>';
}
str += '</table>';
document.write(str);
```


## Ⅲ. 比较运算符
用来比较值的关系：`>`  、 `<`  `==` 、  `===` 、 `!=`  、`!==`  、 `>=`、  `<=`。

如果关系成立就返回true，如果关系不成立就返回false。
#### 1. 等号
- ==：等于
    - 用来比较值是否相等
    - 如果两个值的类型不同，会自动进行类型转换，转换成相同的类型，再进行比较。
    - undefined衍生自null，两个值比较时，会返回true（但是不全等）。
    - NaN不可与任何值比较，包括他本身，任何比较都返回false。如果想判断一个值是否是NaN，要使用isNaN()函数。
- != 不相等：就是相等取反，其他特性都一样
- ===：恒等于：用来比较值、数据类型是否全等，不会进行数据类型转换，类型不同，直接返回false。
- !==：不全等：和不等类似，不会做类型转换，如果类型不同会直接返回true。

#### 2. 对于非数字类型
会先转换为number类型，再进行比较。
- 任何值和NaN做任何比较都是false
- 如果符号两侧的值都是字符串，不会将其转换为数字进行比较，而会比价他们的Unicode编码。比较字符编码时，会一位一位比较，如果两位一样就比较下一位，有值的比没值的打。
    - 用途：可以借用他对人名进行排序。
- 注意比较两个数字时，一定要转为number类型，因为两个数字类型的字符串，比较时是按Unicode编码比较的。


## Ⅳ. 逻辑运算符
#### 1. 或：||
两者只要有一个为true，则为true。

JS中的或也会短路，如果第一个值为true，就不会检测第二个值了。
#### 2. 与：&&
两者都为true，结果才为true。

JS中的与是短路的与，如果第一个值是false，就不会再看第二个值了。
#### 3. 非：！
true变false，false变true。

对一个值进行两次取反，他不会变化，对非布尔值进行取反，会先将其转换为布尔值，再取反。
可以利用这两个特点点，将一个其他数据类型的值转换为布尔值。

#### 4. 非布尔值的 && 和 || 情况
对于非布尔值，进行&& 和 || 运算时，会将其转换为布尔值，再进行运算，并且返回的是原值。
##### 4.1 && 
- 如果两个值都为true，则返回后面的。
- 如果两个值中有false，则返回第一个false；
```js
var result = 1 && 2 ;//result = 2;
var result = 0 && 2;//result =0;
```
##### 4.2 ||
- 如果第一个值是true，会直接返回第一个值
- 如果第一个值为false，会直接返回第二个值。


## Ⅴ. 其他

#### 1. 三元运算符
条件表达式？表达式为true-执行语句1：表达式为false-执行语句2；
```js
var age = 19;
var result = age >= 18? 'yes':'no';
```

#### 2. 逗号运算符
使用 `,` 可以分割多个语句，一般在声明多个变量时使用。 
```js
var a=2,b,c
```

#### 3. 运算符的优先级
- 算数: +、-、*、/、%、++、--
- 字符: + (连接字符串)
- 赋值: = 、 +=  、-= 、 *=  、/=  、%=
- 比较: >  、 <   、`==`、   `===`  、 !=  、!==  、 >=、  <=、
- 逻辑: && ,||  !
- 位: ^&,|,<<,>>
- 其他: 三元->"  :   ?   "

#### 4. typeof
typeof也是一个运算符，用来获得一个值的类型。
```js
var a = 1 ;
var b = typeof a ; //b = number
```







