---
title: "6-7. 生产部署"
date: 2023-05-04
---

#### 1. 开发环境与生产环境
在开发过程中，Vue 提供了许多功能来提升开发体验：
- 对常见错误和隐患的警告
- 对组件 props / 自定义事件的校验
- 响应性调试钩子
- 开发工具集成
但这些功能在生产环境中是用不到的，只会消耗性能，暴露内部结构。

**方案**  

当部署到生产环境中时，我们应该移除所有未使用的、仅用于开发环境的代码分支，来获得更小的包体积和更好的性能。

#### 2. 直接使用Vue
如果是从CDN加载Vue，或者直接下载Vue.js。  
确保在部署时使用的是生产环境版本（以 .prod.js 结尾的构建文件）。  
生产环境版本会被最小化，并移除了所有仅用于开发环境的代码分支。

#### 3. 使用构建工具
构建工具指的是Vite（或者基于Webpack的 VueCLI）。  
基于构建工具搭建的项目都预先做了针对生产环境的配置。

#### 4. 追踪运行时错误
应用级错误处理 可以用来向追踪服务报告错误：
```js
import { createApp } from 'vue'
const app = createApp(...)
app.config.errorHandler = (err, instance, info) => {
  // 向追踪服务报告错误
}
```