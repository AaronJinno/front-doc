---
title: "4-1. 介绍"
date: 2023-04-25
---

## Ⅰ. 组件化介绍

#### 1. 概述
组件允许我们将 UI 划分为独立的、可重用的部分，并且可以对每个部分进行单独的思考。

在实际应用中，组件常常被组织成层层嵌套的树状结构，这个结构和嵌套 HTML 元素的方式类似，Vue 实现了自己的组件模型，可以在每个组件内封装自定义内容与逻辑。

![4-1-1](/img/vue/vue/4-1-1.png)

总结：组件是可复用的 Vue 实例，且带有一个名字。

#### 2. 组件化思想
如果我们将一个页面中所有的处理逻辑全部放在一起，处理起来就会变得非常复杂，而且不利于后续的管理以及扩展。

但如果，我们将一个页面拆分成一个个小的功能块，每个功能块完成属于自己这部分独立的功能，那么之后整个页面的管理和维护就变得非常容易了。

#### 3. 组件化思想的应用
有了组件化的思想，我们在之后的开发中就要充分的利用它。尽可能的将页面拆分成一个个小的、可复用的组件。这样让我们的代码更加方便组织和管理，并且扩展性也更强。


##  Ⅱ. 单文件组件
:::tip SFC
一般会将 Vue 组件定义在一个单独的 .vue 文件中，这被叫做单文件组件(简称 SFC)
:::
#### 1. 定义一个组件
```vue
<template>
    <div>
        <!-- 模板 -->
    </div>
</template>

<style lang="scss">
div{
    // CSS
}
</style>

<script setup>
import {ref} from "vue"
// JS
</script>
```

#### 2. 暴露组件
SFC语法会自动以默认导出的形式暴露给外部。  
需要用到就直接使用import导入。

#### 3. import引入组件
通过 `<script setup>` 导入的组件都在模板中直接可用。
```vue
<script setup>
//导入ButtonCounter.vue组件
import ButtonCounter from './ButtonCounter.vue'
</script>


<template>
  <div>
    <h1>Here is a child component!</h1>
    <ButtonCounter /> <!-- 使用组件 -->
  </div>  
</template>
```
##### 3.1 全局组件
可以全局地注册一个组件，使得它在当前应用中的任何组件上都可以使用，而不需要额外再导入。

##### 3.2 使用组件
- 通过<组件名/>标签的形式使用。
- 组件可以被重用任意多次。
- 组件的标签名是区分大小写的。
- 如果直接在 DOM 中书写模板 (例如原生 `<template>` 元素的内容)，模板的编译需要遵从浏览器中 HTML 的解析行为。
    - 需要使用 kebab-case 形式并显式地关闭这些组件的标签。

#### 4. 组件状态
每当使用一个组件，就创建了一个新的实例。  
每一个组件都维护着自己的状态。

#### 5. Props
父组件向子组件传递信息。
Props 是一种特别的 attributes，可以在组件上声明注册，props是用来传递数据的。
- 这里要用到defineProp宏：是一个仅 `<script setup>` 中可用的编译宏命令
- 声明的 props 会自动暴露给模板。defineProps 会返回一个对象，其中包含了可以传递给组件的所有 props

#### 6. 监听事件
子组件向父组件传递信息。
子组件监听一个事件，并通过内置的 $emit 方法，将该事件向上抛给父组件。
父组件会接收该事件，并获取子组件要传递的信息。

#### 7. slot插槽
使用 `<slot>` 作为一个占位符，父组件传递进来的内容就会渲染在这里。

#### 8. 动态组件
有些场景会需要在两个组件间来回切换，比如 Tab 界面，这就要用到动态组件。
