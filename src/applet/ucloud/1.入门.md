---
title: 1. 入门
date: 2023-05-06
---
## 介绍
uniCloud 是 DCloud 联合阿里云、腾讯云，为开发者提供的基于 serverless 模式和 js 编程的云开发平台。
#### 1. 意义
赋能前端程序员，使用JS完成前后台整合业务，同时方便于部署，无需运维。  

且云资源更加廉价。

#### 2. Serverless是什么
Serverless 是云计算的一种模型 。以平台即服务（PaaS）为基础，终端客户不需要部署、配置或管理服务器服务，代码运行所需要的服务器服务皆由云端平台来提供。
- no server management (用户不需要管理服务器)
- pay-for-value services (按价值付费) 
- continuous scaling (能自动持续扩容)
- built-in fault tolerance (内置高可用和容错能力) 

让一个不懂服务器运维的开发者，可以只处理自己的业务，再不用关心热备、负载、增容、DDOS等事情

##### 2.1 传统云服务
从购买实体服务器->变成购买虚拟机，开发者依然要完成所有的部署和配置。

##### 2.2 Serverless
真正的云服务，除了提供虚机，还有自动化的运维、数据库等。

serverless的云，真正的把计算、存储的能力进行了云化，开发者只需要按量租用这些计算和存储能力，再也不用关心扩容和攻击。在使用Serverless时，不再有服务的概念，转而使用的是云资源、云服务。

#### 3. UniCloud是什么
uniCloud是DCloud在阿里云和腾讯云的serverless服务上封装而成的。  
它包含IaaS层（由阿里云和腾讯云提供硬件和网络）和PaaS层（由DCloud提供开发环境）。

开发时虽使用DCloud的工具，但应用上线时，手机端是直连阿里云或腾讯云的serverless，不经由DCloud的服务器。

#### 4. 替代后端
- uniCloud采用js编写后端服务代码，无需了解后端语言（nodejs也不用），直接看api文档即可
- 不需要配置服务器，运维服务器，只需要把项目部署即可。
- uniCloud包含opendb，且提供了大量数据库模板，无需考虑数据库。
- 通用服务：包含众多通用服务，如uin-id提供了权限+用户管理。

#### 5. 云端一体模块
指的是前端uniapp+伪后端unicloud结合后的，提供完整功能的模块。

## 开启Unicloud
#### 1. 创建账号
使用unicloud之前需要先创建账号，这样才能购买和掉用云资源。

[登录页](https://unicloud.dcloud.net.cn/pages/login/login?uniIdRedirectUrl=%252Fpages%252Findex%252Findex)

#### 2. 购买服务空间
使用云服务，需要购买服务空间，一个开发者可以拥有多个服务空间，每个服务空间都是一个独立的serverless云环境，不同服务空间之间的云函数、数据库、存储都是隔离的。

有多个套餐可选择，最低可买5元1月的套餐。  

[进入购买页](https://unicloud.dcloud.net.cn/uni_modules/uni-trade/pages/create-order/create-order?buy_type=1)

PS：5月/月的基础版和 82/月的专业版是最划算的，或者有钱上旗舰版。

#### 3. 控制台
控制台可以查看购买的服务空间。

[控制台地址](https://unicloud.dcloud.net.cn/)

#### 4. 服务列表
点击服务空间，可以查看该服务空间下的所有资源和服务，并可进行管理。


## 使用UniCloud
:::tip 说明
因为我是全栈，所以不会使用UniCloud替代后端，因此使用Uniclou只是为了进行前端网页托管和OSS。  

也为了能看懂别人写的unicloud插件和项目。
:::
#### 1. 创建项目
HBuilderX中新建项目，选择uni-app项目，并勾选启用uniCloud，在右侧选择服务供应商（腾讯云或阿里云）。

#### 2. 关联服务空间
一个开发者可以拥有多个服务空间，每个服务空间都是一个独立的serverless云环境，不同服务空间之间的云函数、数据库、存储都是隔离的。

对项目根目录uniCloud点右键选择关联云服务空间，绑定之前创建的服务空间，或者新建一个服务空间。

#### 3. hello uniCloud
可以体验官方提供的Hello uniCloud项目，该项目有uniCloud的各种能力。

##### 3.1 项目地址
- [h5版](https://hellounicloud.dcloud.net.cn/#/)
- [apk下载](https://m3w.cn/__uni__5c6d4e4)
- [源码](https://ext.dcloud.net.cn/plugin?id=4082)
##### 3.1 运行项目
- 创建：在 HBuilderX 新建项目界面，选择uni-app项目，选择 Hello uniCloud 项目模板。推荐使用vue3版本，因为编译速度更快
- 初始化：HBuilderX 会在项目创建后弹出 uniCloud初始化向导，根据向导部署
- 运行：在运行菜单运行项目，浏览器、app、小程序均可
    - uniCloud项目是云端一体的，运行前端后控制台会同时出现前端和云端的控制台


## 服务空间
#### 1. 概述
一个服务空间对应一整套独立的云开发资源，包括数据库、存储空间、云函数等资源。  
服务空间之间彼此隔离。
- SpaceID：每个服务空间都有一个全局唯一的space ID
- 控制台：web控制台可以新建、删除服务空间，管理线上的服务空间资源

#### 2. 多人协作
一个服务空间只有一个创建者，但可以设置协作成员。

协作者可以在HBuilderX和web控制台中操作被授权的服务空间，除了删除服务空间，其他功能均可正常操作。

#### 3. 应用和服务空间的关系
每个uni-app应用都有一个appid，每个服务空间都有一个spaceid。

服务空间和项目是多对多绑定关系。同DCloud账号下，一个应用可以关联到多个服务空间。一个服务空间也可以被多个项目访问。

#### 4. 多应用共用服务空间
:::tip
项目都有C端和B端，他们要共用一个数据库和相同云函数
:::

- 需求：两个、多个项目想共用一个云服务空间，比如一个系统，有用户端项目、管理admin项目，两个项目需要公共服务空间。
- 问题：如果每个项目目录下都存在多个重复的云函数文件。 每个项目都要做同步云函数列表， 下载云函数等操作。 繁琐，而且很容易冲突。
- 方案：一云多端

##### 4.1 绑定其它项目的服务空间
选中项目下的uniCloud目录， 右键菜单，点击 【关联云服务空间或项目... 】 ，可以关联云服务空间、绑定其它项目的服务空间。

![2-1](/img/applet/ucloud/2-1.jpg)

##### 4.2 绑定其他项目的服务空间
选择关联项目时，选择绑定其他项目的服务空间。用户选择任一uniapp项目进行关联, 关联效果如下图。

![2-2](/img/applet/ucloud/2-2.jpg)

#### 5. 一个应用访问多个服务空间
:::info
TBD
:::